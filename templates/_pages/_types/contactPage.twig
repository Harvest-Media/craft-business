{% extends "_layouts/default" %}
{% import "_partials/imgMacros" as imgMacros %}
{% import "_partials/typographyMacros" as typographyMacros %}

{% block content %}

    <div class="mx-auto max-w-5xl flex flex-wrap justify-center text-center my-4">
        <div class="w-full mb-4 sm:w-1/3">
            {{ svg('@webroot/assets/svg/phone.svg')|attr({class:'w-full h-12 text-brand-navy-500 mb-2'}) }}
            <h2 class="text-base text-brand-navy-500 font-sans font-extrabold tracking-wide uppercase">Call Us</h2>
            <a href="tel:{{ seomatic.site.identity.genericTelephone }}" class="text-xl ml-3 font-bold">{{ seomatic.site.identity.genericTelephone }}</a>
        </div>
        <div class="w-full mb-4 sm:w-1/3">
            {{ svg('@webroot/assets/svg/mail.svg')|attr({class:'w-full h-12 text-brand-navy-500 mb-2'}) }}
            <h2 class="text-base text-brand-navy-500 font-sans font-extrabold tracking-wide uppercase">Email Us</h2>
            <a href="mailto:{{seomatic.site.identity.genericEmail }}" class="text-xl ml-3 font-bold">{{ seomatic.site.identity.genericEmail }}</a>
        </div>
        <div class="w-full mb-4 sm:w-1/3">
            {{ svg('@webroot/assets/svg/marker.svg')|attr({class:'w-full h-12 text-brand-navy-500 mb-2'}) }}
            <h2 class="text-base text-brand-navy-500 font-sans font-extrabold tracking-wide uppercase">Find Us</h2>
            <a href="https://g.page/d-j-roofing-construction?share" class="text-xl ml-3 font-bold">{{ seomatic.site.identity.genericStreetAddress }}<br>
                {{ seomatic.site.identity.genericAddressLocality }}, {{ seomatic.site.identity.genericAddressRegion }} {{ seomatic.site.identity.genericPostalCode }}
            </a>
        </div>
    </div>

    {#
        Body Blocks
    #}
    <div class="mb-12">
        {% if entry.bodyBlocks|length %}
            {% set bodyBlocks = entry.bodyBlocks.all() %}
            {% include '_partials/bodyBlocks' %}
        {% endif %}
    </div>

    {#
        Contact Form
    #}
    <div class="relative bg-gray-100 -mx-4 p-4">

        <div class="lg:absolute lg:inset-0">
            <div class="lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2">
                <img class="h-56 w-full object-cover lg:absolute lg:h-full lazyload" data-src="{{craft.app.config.general.theme.assetsImages}}default-header.jpg" alt="Contact D&J for a free roofing estimate">
            </div>
        </div>

        <div class="relative pt-12 pb-16 px-4 sm:pt-16 sm:px-6 lg:px-8 lg:max-w-7xl lg:mx-auto lg:grid lg:grid-cols-2">
            <div class="lg:pr-8">
                <div class="max-w-md mx-auto sm:max-w-lg lg:mx-0">
                    <h2 class="text-3xl font-extrabold tracking-tight sm:text-4xl">Get a Free Estimate</h2>
                    <p class="mt-4 text-lg text-gray-500 sm:mt-3">Send us a message about your roofing or construction needs, and we'll reply to you promptly.</p>
                    {% include "_partials/contactForm" %}
                </div>
            </div>
        </div>

    </div>

    {#
        FAQs
    #}
    {% set faqs = craft.entries({
        section: ['faqs']
    }).all() %}
    {% if faqs | length %}
    <div class="mx-auto max-w-4xl py-4 md:py-12">
        <h2 class="">
            <span class="block mb-2 text-base md:text-xl leading-tight font-normal font-sans uppercase">Frequently Asked</span>
            <span class="block mb-2 text-3xl md:text-6xl font-extrabold">Questions</span>
        </h2>
        {{typographyMacros.separator()}}
        <div class="grid md:grid-cols-2 md:gap-4">
            {% for faq in faqs %}
            <div>
                <h3 class="text-xl text-black font-bold font-sans">{{ faq.title }}</h3>
                <div class="prose prose-sm mb-4">
                    {{ faq.body }}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
{% endblock %}

{# No CTA needed on contact form #}
{% block CTA %}{% endblock %}